<form #userForm = "ngForm" (ngSubmit) = "logForm(userForm)">
    <div class="form-group">
        <label class="col-sm-2 control-label">姓名:</label>
        <div class="col-sm-10">
            <input class="form-control" type="text"  name="name" [(ngModel)]="user.name" #name="ngModel" required minlength="3">
            <span *ngIf="name.pristine" class="label label-primary">未修改</span>
            <span *ngIf="name.dirty" class="label label-warning">已修改</span>
            <span *ngIf="name.valid" class="label label-success">有效</span>
            <div [hidden]="name.valid || name.pristine" class="alert alert-danger">
                <p *ngIf="name.errors?.minlength">姓名最小长度为3</p>
                <p *ngIf="name.errors?.required">必须输入姓名</p>
            </div>
        </div>

        <button nz-button [nzType]="'primary'" (click)= "testInput(tel.value)" type="submit">
            <span>模板引用变量</span>
          </button>
    </div>
    <div class="form-group">
        <label class="col-sm-2 control-label">电话:</label>
        <div class="col-sm-10">
            <input class="form-control" type="text" ref-tel name ="mobile" [ngModel]="user.mobile" required minlength="11" maxlength="11">
            <span *ngIf="userForm.controls.mobile?.pristine" class="label label-primary">未修改</span>
            <span *ngIf="userForm.controls.mobile?.dirty" class="label label-warning">已修改</span>
            <span *ngIf="userForm.controls.mobile?.valid" class="label label-success">有效</span>
            <div [hidden]="userForm.controls.mobile?.valid || userForm.controls.mobile?.pristine" class="alert alert-danger">
                <p *ngIf="userForm.controls.mobile?.errors?.minlength">电话长度必须为11</p>
                <p *ngIf="userForm.controls.mobile?.errors?.required">必须输入电话</p>
            </div>
        </div>
    </div>
    <fieldset ngModelGroup ="address">
    <div class="form-group">
        <label class="col-sm-2 control-label">城市:</label>
        <div class="col-sm-10">
            <input class="form-control" type="text" name="city" [ngModel]="user.address.city">
        </div>
    </div>
    <div class="form-group">
        <label class="col-sm-2 control-label">街道:</label>
        <div class="col-sm-10">
            <input class="form-control" type="text"  name="street" [ngModel]="user.address.street">
        </div>
    </div>
    </fieldset>>
    <button nz-button [nzType]="'primary'"  type="submit">
        <span>保存</span>
      </button>
</form>